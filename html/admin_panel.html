<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | JobStir</title>
    <meta name="description" content="JobStir Admin Dashboard - Manage your recruitment platform">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="../assets/images/favicon.svg">
    
    <!-- Theme Manager -->
    <script src="../js/theme-manager.js" defer></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    
    <!-- Charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="../css/admin_panel.css">
    <link rel="stylesheet" href="../css/styles.css">
    
    <!-- Admin Scripts -->
    <script src="../js/admin_panel.js" defer></script>
</head>
<body>
    <!-- Main Content -->
    <div class="admin-main">
        <!-- Header -->
        <div class="admin-header">
            <!-- Header Left -->
            <div class="header-left">
                <!-- Sidebar Toggle -->
                <button class="sidebar-toggle">
                    <i data-feather="menu"></i>
                </button>
                <!-- Page Title -->
                <h1 id="page-title">Admin Dashboard</h1>
            </div>
            <!-- Header Right -->
            <div class="header-right">
                <!-- Theme Toggle -->
                <div class="theme-switch-wrapper">
                    <label class="theme-switch">
                        <input type="checkbox" id="theme-toggle">
                        <span class="slider round"></span>
                    </label>
                </div>
                <!-- Notifications -->
                <button class="notification-btn">
                    <i data-feather="bell"></i>
                    <span class="notification-badge">3</span>
                </button>
                <!-- Logout Button -->
                <button class="logout-btn">
                    <i data-feather="log-out"></i>
                    Logout
                </button>
            </div>
        </div>
        <!-- Content Area -->
        <div class="admin-content">
            <!-- Cards -->
            <div class="stat-card">
                <!-- Card Content -->
                <h2>Statistics</h2>
                <p>This is some sample text.</p>
            </div>
            <div class="chart-card">
                <!-- Card Content -->
                <h2>Charts</h2>
                <p>This is some sample text.</p>
            </div>
            <div class="activity-card">
                <!-- Card Content -->
                <h2>Activity</h2>
                <p>This is some sample text.</p>
            </div>
        </div>
    </div>
</body>
</html>
                <div class="admin-logo">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="logo-icon">
                        <path d="M12 2L1 12h3v9h6v-6h4v6h6v-9h3L12 2z"/>
                    </svg>
                    <div class="logo-text">
                        <span>JobStir</span>
                        <span class="logo-subtext">Admin Panel</span>
                    </div>
                </div>
                <div class="admin-user">
                    <img src="https://ui-avatars.com/api/?name=Admin+User&background=0D9488&color=fff" alt="Admin" class="user-avatar">
                    <div class="user-info">
                        <div class="user-name">Admin User</div>
                        <div class="user-email">admin@jobstir.com</div>
                    </div>
                    <button class="user-menu-btn">
                        <i data-feather="chevron-down"></i>
                    </button>
                </div>
            </div>

            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item">
                        <a href="#" class="nav-link active" data-tab="dashboard-tab">
                            <i data-feather="layout"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    
                    <li class="nav-section">
                        <div class="nav-section-title">Management</div>
                        <ul>
                            <li class="nav-item">
                                <a href="#" class="nav-link" data-tab="users-tab">
                                    <i data-feather="users"></i>
                                    <span>Users</span>
                                    <span class="badge badge-primary">24</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link" data-tab="jobs-tab">
                                    <i data-feather="briefcase"></i>
                                    <span>Jobs</span>
                                    <span class="badge badge-success">156</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link" data-tab="applications-tab">
                                    <i data-feather="file-text"></i>
                                    <span>Applications</span>
                                    <span class="badge badge-warning">342</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link" data-tab="companies-tab">
                                    <i data-feather="building"></i>
                                    <span>Companies</span>
                                    <span class="badge">42</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    
                    <li class="nav-section">
                        <div class="nav-section-title">Content</div>
                        <ul>
                            <li class="nav-item">
                                <a href="#" class="nav-link" data-tab="pages-tab">
                                    <i data-feather="file"></i>
                                    <span>Pages</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link" data-tab="blog-tab">
                                    <i data-feather="edit-3"></i>
                                    <span>Blog</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link" data-tab="media-tab">
                                    <i data-feather="image"></i>
                                    <span>Media Library</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    
                    <li class="nav-section">
                        <div class="nav-section-title">System</div>
                        <ul>
                            <li class="nav-item">
                                <a href="#" class="nav-link" data-tab="analytics-tab">
                                    <i data-feather="bar-chart-2"></i>
                                    <span>Analytics</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link" data-tab="settings-tab">
                                    <i data-feather="settings"></i>
                                    <span>Settings</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link" data-tab="security-tab">
                                    <i data-feather="shield"></i>
                                    <span>Security</span>
                                    <span class="badge badge-danger">3</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                        <i data-feather="users"></i>
                        <span>User Management</span>
                    </a></li>
                    <li><a href="#jobs" class="nav-link" data-tab="jobs">
                        <i data-feather="briefcase"></i>
                        <span>Job Management</span>
                    </a></li>
                    <li><a href="#applications" class="nav-link" data-tab="applications">
                        <i data-feather="file-text"></i>
                        <span>Applications</span>
                    </a></li>
                    <li><a href="#analytics" class="nav-link" data-tab="analytics">
                        <i data-feather="trending-up"></i>
                        <span>Analytics</span>
                    </a></li>
                    <li><a href="#content" class="nav-link" data-tab="content">
                        <i data-feather="edit"></i>
                        <span>Content Management</span>
                    </a></li>
                    <li><a href="#settings" class="nav-link" data-tab="settings">
                        <i data-feather="settings"></i>
                        <span>System Settings</span>
                    </a></li>
                    <li><a href="#security" class="nav-link" data-tab="security">
                        <i data-feather="lock"></i>
                        <span>Security</span>
                    </a></li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <div class="theme-switch-wrapper">
                    <i data-feather="moon" class="moon-icon"></i>
                    <label class="theme-switch">
                        <input type="checkbox" id="theme-toggle">
                        <span class="slider round"></span>
                    </label>
                    <i data-feather="sun" class="sun-icon"></i>
                </div>
                <a href="#" class="nav-link" id="logout-btn">
                    <i data-feather="log-out"></i>
                    <span>Logout</span>
                </a>
            </div>
        </aside>  
      <!-- Main Content -->
        <main class="admin-main">
            <!-- Top Bar -->
            <header class="admin-header">
                <div class="header-left">
                    <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                        <i data-feather="menu"></i>
                    </button>
                    <div class="breadcrumbs">
                        <span class="breadcrumb-item">Dashboard</span>
                        <span class="breadcrumb-divider">/</span>
                        <span class="breadcrumb-item active">Overview</span>
                    </div>
                </div>
                
                <div class="header-search">
                    <i data-feather="search"></i>
                    <input type="text" placeholder="Search..." class="search-input">
                </div>
                
                <div class="header-actions">
                    <button class="btn btn-icon btn-ghost" title="Create New">
                        <i data-feather="plus"></i>
                    </button>
                    
                    <div class="notifications">
                        <button class="btn btn-icon btn-ghost notification-btn" aria-label="Notifications">
                            <i data-feather="bell"></i>
                            <span class="notification-badge">3</span>
                        </button>
                        <div class="notifications-dropdown">
                            <div class="notifications-header">
                                <h6>Notifications</h6>
                                <a href="#" class="mark-all-read">Mark all as read</a>
                            </div>
                            <div class="notifications-list">
                                <a href="#" class="notification-item unread">
                                    <div class="notification-icon bg-primary">
                                        <i data-feather="user-plus"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p><strong>New user registered</strong></p>
                                        <small>2 minutes ago</small>
                                    </div>
                                </a>
                                <a href="#" class="notification-item unread">
                                    <div class="notification-icon bg-success">
                                        <i data-feather="briefcase"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p><strong>New job posted</strong> - Senior Developer at Tech Corp</p>
                                        <small>1 hour ago</small>
                                    </div>
                                </a>
                                <a href="#" class="notification-item">
                                    <div class="notification-icon bg-warning">
                                        <i data-feather="alert-triangle"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p><strong>Security alert</strong> - Unusual login attempt detected</p>
                                        <small>3 hours ago</small>
                                    </div>
                                </a>
                            </div>
                            <div class="notifications-footer">
                                <a href="#" class="view-all">View all notifications</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="user-menu">
                        <button class="user-menu-btn" id="user-menu-btn" aria-label="User menu">
                            <img src="https://ui-avatars.com/api/?name=Admin+User&background=0D9488&color=fff" alt="Admin" class="user-avatar">
                            <span class="user-name">Admin User</span>
                            <i data-feather="chevron-down" class="dropdown-icon"></i>
                        </button>
                        <div class="user-dropdown" id="user-dropdown">
                            <div class="user-info">
                                <img src="https://ui-avatars.com/api/?name=Admin+User&background=0D9488&color=fff" alt="Admin" class="user-avatar-lg">
                                <div class="user-details">
                                    <h6>Admin User</h6>
                                    <span class="text-muted">Administrator</span>
                                </div>
                            </div>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <i data-feather="user"></i>
                                <span>My Profile</span>
                            </a>
                            <a href="#" class="dropdown-item">
                                <i data-feather="settings"></i>
                                <span>Account Settings</span>
                            </a>
                            <a href="#" class="dropdown-item">
                                <i data-feather="mail"></i>
                                <span>Messages</span>
                                <span class="badge badge-primary">3</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item text-danger">
                                <i data-feather="log-out"></i>
                                <span>Logout</span>
                            </a>
                        </div>
                    </div>    <div class="notifications">
                        <button class="notification-btn" id="notification-btn">
                            <i data-feather="bell"></i>
                            <span class="notification-badge" id="notification-count">3</span>
                        </button>
                    </div>
                    <div class="admin-profile">
                        <button class="profile-btn" id="profile-btn">
                            <i data-feather="user"></i>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Content Area -->
            <div class="admin-content">
                <div id="message-container" class="message-container hidden"></div>

                <!-- Dashboard Tab -->
                <section id="dashboard-tab" class="tab-content active">
                    <div class="dashboard-header">
                        <h1>Dashboard Overview</h1>
                        <div class="dashboard-actions">
                            <div class="date-range-picker">
                                <i data-feather="calendar"></i>
                                <span>Last 30 Days</span>
                                <i data-feather="chevron-down" class="ml-1"></i>
                            </div>
                            <button class="btn btn-primary">
                                <i data-feather="download" class="mr-1"></i>
                                Export Report
                            </button>
                            <div class="stat-card">
                                <div class="stat-icon revenue">
                                    <i data-feather="dollar-sign"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Revenue</h3>
                                    <p class="stat-number" id="total-revenue">$0</p>
                                    <span class="stat-change positive">+15% this month</span>
                                    <div class="star-rating">
                                        <i class="fas fa-star star"></i>
                                        <i class="fas fa-star star"></i>
                                        <i class="fas fa-star star"></i>
                                        <i class="fas fa-star star"></i>
                                        <i class="fas fa-star star"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Charts Row -->
                        <div class="charts-row">

                            <div class="chart-card">
                                <div class="chart-header">
                                    <h3>User Growth</h3>
                                    <select id="user-growth-period">
                                        <option value="6m">Last 6 Months</option>
                                        <option value="30d">Last 30 Days</option>
                                        <option value="all">All Time</option>
                                    </select>
                                </div>
                                <div class="chart-container">
                                    <canvas id="user-growth-chart"></canvas>
                                </div>
                            </div>
                        
                            <div class="chart-card">
                                <div class="chart-header">
                                    <h3>Applications per Day</h3>
                                     <select id="applications-period">
                                        <option value="7d">Last 7 Days</option>
                                        <option value="14d">Last 14 Days</option>
                                        <option value="30d">This Month</option>
                                    </select>
                                </div>
                                <div class="chart-container">
                                    <canvas id="applications-chart"></canvas>
                                </div>
                            </div>
                        
                        </div>

                        <!-- Recent Activity -->
                        <div class="activity-section">
                            <div class="activity-card">
                                <div class="activity-header">
                                    <h3>Recent Activity</h3>
                                    <button class="btn btn-secondary btn-small">View All</button>
                                </div>
                                <div class="activity-list" id="recent-activity">
                                    <!-- Activity items will be loaded here -->
                                </div>
                            </div>
                            <div class="quick-actions-card">
                                <h3>Quick Actions</h3>
                                <div class="quick-actions">
                                    <button class="quick-action-btn" onclick="showModal('add-user-modal')">
                                        <i data-feather="user-plus"></i>
                                        Add User
                                    </button>
                                    <button class="quick-action-btn" onclick="showModal('broadcast-modal')">
                                        <i data-feather="mail"></i>
                                        Send Broadcast
                                    </button>
                                    <button class="quick-action-btn" onclick="exportData()">
                                        <i data-feather="download"></i>
                                        Export Data
                                    </button>
                                    <button class="quick-action-btn" onclick="showModal('maintenance-modal')">
                                        <i data-feather="tool"></i>
                                        Maintenance
                                    </button>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </section>         
       <!-- User Management Tab -->
                <section id="users-tab" class="tab-content">
                    <div class="tab-header">
                        <h2>User Management</h2>
                        <div class="tab-actions">
                            <button class="btn btn-secondary" onclick="exportUsers()">
                                <i data-feather="download"></i>
                                Export Users
                            </button>
                            <button class="btn btn-primary" onclick="showModal('add-user-modal')">
                                <i data-feather="user-plus"></i>
                                Add User
                            </button>
                        </div>
                    </div>
                    
                    <div style="margin-bottom:1rem;">
                        <label for="site-mode-select"><strong>Site Mode:</strong></label>
                        <select id="site-mode-select">
                            <option value="production">Production</option>
                            <option value="development">Development</option>
                        </select>
                    </div>
                    <div id="dev-mode-banner" style="display:none; background: #eab308; color: #222; padding: 0.5rem 1rem; margin-bottom: 1rem; border-radius: 5px;">
                        <strong>Development Mode Enabled:</strong> Some features may be experimental or show extra debugging info.
                    </div>

                    
                    <div class="filters-bar">
                        <div class="search-box">
                            <i data-feather="search"></i>
                            <input type="text" id="user-search" placeholder="Search users...">
                        </div>
                        <select id="user-role-filter">
                            <option value="all">All Roles</option>
                            <option value="candidate">Candidates</option>
                            <option value="hr">HR Users</option>
                            <option value="admin">Admins</option>
                        </select>
                        <select id="user-status-filter">
                            <option value="all">All Status</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                            <option value="suspended">Suspended</option>
                        </select>
                    </div>

                    <div class="table-container">
                        <table class="admin-table" id="users-table">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="select-all-users"></th>
                                    <th>User</th>
                                    <th>Email</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Joined</th>
                                    <th>Last Active</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body">
                                <!-- Users will be loaded here -->
                            </tbody>
                        </table>
                    </div>

                    <div class="table-pagination">
                        <div class="pagination-info">
                            Showing <span id="users-showing">1-10</span> of <span id="users-total">0</span> users
                        </div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" id="users-prev">Previous</button>
                            <div class="page-numbers" id="users-pages"></div>
                            <button class="pagination-btn" id="users-next">Next</button>
                        </div>
                    </div>
                </section>

                <!-- Job Management Tab -->
                <section id="jobs-tab" class="tab-content">
                    <div class="tab-header">
                        <h2>Job Management</h2>
                        <div class="tab-actions">
                            <button class="btn btn-secondary" onclick="exportJobs()">
                                <i data-feather="download"></i>
                                Export Jobs
                            </button>
                            <button class="btn btn-primary" onclick="showModal('add-job-modal')">
                                <i data-feather="plus"></i>
                                Add Job
                            </button>
                        </div>
                    </div>

                    <div class="filters-bar">
                        <div class="search-box">
                            <i data-feather="search"></i>
                            <input type="text" id="job-search" placeholder="Search jobs...">
                        </div>
                        <select id="job-status-filter">
                            <option value="all">All Status</option>
                            <option value="active">Active</option>
                            <option value="paused">Paused</option>
                            <option value="closed">Closed</option>
                        </select>
                        <select id="job-type-filter">
                            <option value="all">All Types</option>
                            <option value="full-time">Full-time</option>
                            <option value="part-time">Part-time</option>
                            <option value="contract">Contract</option>
                            <option value="internship">Internship</option>
                        </select>
                    </div>

                    <div class="table-container">
                        <table class="admin-table" id="jobs-table">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="select-all-jobs"></th>
                                    <th>Job Title</th>
                                    <th>Company</th>
                                    <th>Type</th>
                                    <th>Applications</th>
                                    <th>Status</th>
                                    <th>Posted</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="jobs-table-body">
                                <!-- Jobs will be loaded here -->
                            </tbody>
                        </table>
                    </div>

                    <div class="table-pagination">
                        <div class="pagination-info">
                            Showing <span id="jobs-showing">1-10</span> of <span id="jobs-total">0</span> jobs
                        </div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" id="jobs-prev">Previous</button>
                            <div class="page-numbers" id="jobs-pages"></div>
                            <button class="pagination-btn" id="jobs-next">Next</button>
                        </div>
                    </div>
                </section>       
         <!-- Applications Tab -->
                <section id="applications-tab" class="tab-content">
                    <div class="tab-header">
                        <h2>Application Management</h2>
                        <div class="tab-actions">
                            <button class="btn btn-secondary" onclick="exportApplications()">
                                <i data-feather="download"></i>
                                Export Applications
                            </button>
                        </div>
                    </div>

                    <div class="filters-bar">
                        <div class="search-box">
                            <i data-feather="search"></i>
                            <input type="text" id="application-search" placeholder="Search applications...">
                        </div>
                        <select id="application-status-filter">
                            <option value="all">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="reviewing">Under Review</option>
                            <option value="interview">Interview</option>
                            <option value="offer">Offer</option>
                            <option value="hired">Hired</option>
                            <option value="rejected">Rejected</option>
                        </select>
                        <input type="date" id="application-date-from" placeholder="From Date">
                        <input type="date" id="application-date-to" placeholder="To Date">
                    </div>

                    <div class="table-container">
                        <table class="admin-table" id="applications-table">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="select-all-applications"></th>
                                    <th>Candidate</th>
                                    <th>Job Title</th>
                                    <th>Company</th>
                                    <th>Status</th>
                                    <th>Match Score</th>
                                    <th>Applied</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="applications-table-body">
                                <!-- Applications will be loaded here -->
                            </tbody>
                        </table>
                    </div>

                    <div class="table-pagination">
                        <div class="pagination-info">
                            Showing <span id="applications-showing">1-10</span> of <span id="applications-total">0</span> applications
                        </div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" id="applications-prev">Previous</button>
                            <div class="page-numbers" id="applications-pages"></div>
                            <button class="pagination-btn" id="applications-next">Next</button>
                        </div>
                    </div>
                </section>

                <!-- Analytics Tab -->
                <section id="analytics-tab" class="tab-content">
                    <div class="tab-header">
                        <h2>Analytics & Reports</h2>
                        <div class="tab-actions">
                            <select id="analytics-period">
                                <option value="7d">Last 7 days</option>
                                <option value="30d" selected>Last 30 days</option>
                                <option value="90d">Last 90 days</option>
                                <option value="1y">Last year</option>
                            </select>
                        </div>
                    </div>

                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <h3>Platform Performance</h3>
                            <div class="performance-metrics">
                                <div class="metric">
                                    <span class="metric-label">Page Views</span>
                                    <span class="metric-value" id="page-views">0</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Unique Visitors</span>
                                    <span class="metric-value" id="unique-visitors">0</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Bounce Rate</span>
                                    <span class="metric-value" id="bounce-rate">0%</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Avg. Session</span>
                                    <span class="metric-value" id="avg-session">0m</span>
                                </div>
                            </div>
                        </div>

                        <div class="analytics-card">
                            <h3>Job Market Insights</h3>
                            <div class="chart-container">
                                <canvas id="job-categories-chart"></canvas>
                            </div>
                        </div>
                        
                        <div class="analytics-card">
                            <h3>User Engagement</h3>
                            <div class="chart-container">
                                <canvas id="user-engagement-chart"></canvas>
                            </div>
                        </div>
                        
                        <div class="analytics-card">
                            <h3>Revenue Analytics</h3>
                            <div class="chart-container">
                                <canvas id="revenue-chart"></canvas>
                            </div>
                        </div>
                </section>

                <!-- Content Management Tab -->
                <section id="content-tab" class="tab-content">
                    <div class="tab-header">
                        <h2>Content Management</h2>
                        <div class="tab-actions">
                            <button class="btn btn-primary" onclick="showModal('add-content-modal')">
                                <i data-feather="plus"></i>
                                Add Content
                            </button>
                        </div>
                    </div>

                    <div class="content-sections">
                        <div class="content-section">
                            <h3>Homepage Content</h3>
                            <div class="content-items">
                                <div class="content-item">
                                    <h4>Hero Section</h4>
                                    <p>Main headline and call-to-action</p>
                                    <button class="btn btn-secondary btn-small" onclick="editContent('hero')">Edit</button>
                                </div>
                                <div class="content-item">
                                    <h4>Features Section</h4>
                                    <p>Platform features and benefits</p>
                                    <button class="btn btn-secondary btn-small" onclick="editContent('features')">Edit</button>
                                </div>
                                <div class="content-item">
                                    <h4>Testimonials</h4>
                                    <p>Customer testimonials and reviews</p>
                                    <button class="btn btn-secondary btn-small" onclick="editContent('testimonials')">Edit</button>
                                </div>
                            </div>
                        </div>

                        <div class="content-section">
                            <h3>Email Templates</h3>
                            <div class="content-items">
                                <div class="content-item">
                                    <h4>Welcome Email</h4>
                                    <p>New user welcome message</p>
                                    <button class="btn btn-secondary btn-small" onclick="editTemplate('welcome')">Edit</button>
                                </div>
                                <div class="content-item">
                                    <h4>Application Confirmation</h4>
                                    <p>Job application confirmation</p>
                                    <button class="btn btn-secondary btn-small" onclick="editTemplate('application')">Edit</button>
                                </div>
                                <div class="content-item">
                                    <h4>Password Reset</h4>
                                    <p>Password reset instructions</p>
                                    <button class="btn btn-secondary btn-small" onclick="editTemplate('password-reset')">Edit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>  
              <!-- System Settings Tab -->
                <section id="settings-tab" class="tab-content">
                    <div class="tab-header">
                        <h2>System Settings</h2>
                        <div class="tab-actions">
                            <button class="btn btn-primary" onclick="saveSettings()">
                                <i data-feather="save"></i>
                                Save Settings
                            </button>
                        </div>
                    </div>

                    <div class="settings-sections">
                        <div class="settings-section">
                            <h3>General Settings</h3>
                            <div class="settings-form">
                                <div class="form-group">
                                    <label for="site-name">Site Name</label>
                                    <input type="text" id="site-name" value="JobStir">
                                </div>
                                <div class="form-group">
                                    <label for="site-description">Site Description</label>
                                    <textarea id="site-description" rows="3">AI-Powered Recruitment Platform</textarea>
                                </div>
                                <div class="form-group">
                                    <label for="contact-email">Contact Email</label>
                                    <input type="email" id="contact-email" value="contact@jobstir.com">
                                </div>
                                <div class="form-group">
                                    <label for="support-email">Support Email</label>
                                    <input type="email" id="support-email" value="support@jobstir.com">
                                </div>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3>Feature Toggles</h3>
                            <div class="toggle-settings">
                                <div class="toggle-item">
                                    <label class="toggle-label">
                                        <input type="checkbox" name="enable-registrations" checked>
                                        <span class="toggle-slider"></span>
                                        Enable User Registrations
                                    </label>
                                </div>
                                <div class="toggle-item">
                                    <label class="toggle-label">
                                        <input type="checkbox" name="enable-job-posting" checked>
                                        <span class="toggle-slider"></span>
                                        Enable Job Posting
                                    </label>
                                </div>
                                <div class="toggle-item">
                                    <label class="toggle-label">
                                        <input type="checkbox" name="enable-resume-evaluator" checked>
                                        <span class="toggle-slider"></span>
                                        Enable Resume Evaluator
                                    </label>
                                </div>
                                <div class="toggle-item">
                                    <label class="toggle-label">
                                        <input type="checkbox" name="maintenance-mode">
                                        <span class="toggle-slider"></span>
                                        Maintenance Mode
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3>Email Configuration</h3>
                            <div class="settings-form">
                                <div class="form-group">
                                    <label for="smtp-host">SMTP Host</label>
                                    <input type="text" id="smtp-host" placeholder="smtp.gmail.com">
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="smtp-port">SMTP Port</label>
                                        <input type="number" id="smtp-port" value="587">
                                    </div>
                                    <div class="form-group">
                                        <label for="smtp-security">Security</label>
                                        <select id="smtp-security">
                                            <option value="tls">TLS</option>
                                            <option value="ssl">SSL</option>
                                            <option value="none">None</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="smtp-username">SMTP Username</label>
                                    <input type="text" id="smtp-username">
                                </div>
                                <div class="form-group">
                                    <label for="smtp-password">SMTP Password</label>
                                    <input type="password" id="smtp-password">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Security Tab -->
                <section id="security-tab" class="tab-content">
                    <div class="tab-header">
                        <h2>Security Center</h2>
                        <div class="tab-actions">
                            <button class="btn btn-primary" onclick="runSecurityAudit()">
                                <i data-feather="shield"></i> Run Security Audit
                            </button>
                            <button class="btn btn-secondary" onclick="showModal('security-settings-modal')">
                                <i data-feather="settings"></i> Security Settings
                            </button>
                        </div>
                    </div>

                    <div class="security-dashboard">
                        <div class="row">
                            <!-- Security Score Card -->
                            <div class="col-md-3 mb-4">
                                <div class="card h-100">
                                    <div class="card-body text-center">
                                        <div class="security-score" id="security-score">
                                            <div class="score-circle">
                                                <span>0</span>
                                                <small>Score</small>
                                            </div>
                                        </div>
                                        <h5 class="mt-3">Security Status</h5>
                                        <p class="text-muted">Last audit: <span id="last-audit">Never</span></p>
                                    </div>
                                </div>
                            </div>

                            <!-- Threat Detection -->
                            <div class="col-md-5 mb-4">
                                <div class="card h-100">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h5 class="mb-0">Threat Detection</h5>
                                        <span class="badge bg-danger" id="threat-count">0</span>
                                    </div>
                                    <div class="card-body p-0">
                                        <div class="threat-list" id="threat-list">
                                            <div class="text-center p-4 text-muted">
                                                <i data-feather="shield" width="24" height="24" class="mb-2"></i>
                                                <p>No recent threats detected</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Rate Limit Status -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="mb-0">Rate Limits</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="rate-limit-status">
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>API Requests</span>
                                                <span id="api-usage">0/100 per 15m</span>
                                            </div>
                                            <div class="progress mb-3">
                                                <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                                            </div>
                                            
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Login Attempts</span>
                                                <span id="login-usage">0/5 per hour</span>
                                            </div>
                                            <div class="progress">
                                                <div class="progress-bar bg-warning" role="progressbar" style="width: 0%"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Security Events -->
                        <div class="card mb-4">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Recent Security Events</h5>
                                <button class="btn btn-sm btn-outline-secondary" onclick="refreshSecurityEvents()">
                                    <i data-feather="refresh-cw" width="14" height="14"></i> Refresh
                                </button>
                            </div>
                            <div class="card-body p-0">
                                <div class="table-responsive">
                                    <table class="table table-hover mb-0">
                                        <thead>
                                            <tr>
                                                <th>Time</th>
                                                <th>Event</th>
                                                <th>IP Address</th>
                                                <th>Severity</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="security-events">
                                            <tr>
                                                <td colspan="5" class="text-center text-muted py-4">
                                                    <i data-feather="shield-off" width="24" height="24" class="mb-2"></i>
                                                    <p>No security events recorded</p>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Backup & Restore -->
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Backup & Restore</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h6>Create Backup</h6>
                                        <p class="text-muted small mb-3">Create a complete backup of your system data.</p>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="backup-users" checked>
                                            <label class="form-check-label" for="backup-users">
                                                Users & Accounts
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="backup-jobs" checked>
                                            <label class="form-check-label" for="backup-jobs">
                                                Job Listings
                                            </label>
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="backup-applications" checked>
                                            <label class="form-check-label" for="backup-applications">
                                                Job Applications
                                            </label>
                                        </div>
                                        <button class="btn btn-primary" onclick="createBackup()">
                                            <i data-feather="download-cloud"></i> Create Backup
                                        </button>
                                    </div>
                                    <div class="col-md-6">
                                        <h6>Restore Backup</h6>
                                        <p class="text-muted small mb-3">Restore your system from a previous backup.</p>
                                        <div class="input-group mb-3">
                                            <input type="file" class="form-control" id="backup-file" accept=".json">
                                            <button class="btn btn-outline-secondary" type="button" onclick="restoreBackup()">
                                                Upload & Restore
                                            </button>
                                        </div>
                                        <div class="alert alert-warning">
                                            <i data-feather="alert-triangle" class="me-2"></i>
                                            Restoring a backup will overwrite existing data. Make sure to create a backup first.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Security Module -->
    <script src="../js/admin-security.js"></script>
    
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Configuration and Supabase setup -->
    <script src="../js/config.js"></script>
    <script src="../js/supabase-config.js"></script>
    
    <!-- Admin Panel Scripts -->
    <script src="../js/navigation.js"></script>
    <script src="../js/admin_panel.js"></script>
    
    <script>
        feather.replace();
        
        // Initialize admin security
        let adminSecurity = null;
        
        // Initialize when the document is ready
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize security module after admin panel is loaded
            if (window.adminPanel) {
                adminSecurity = new AdminSecurity(window.adminPanel);
                loadSecurityData();
            }
        });
        
        // Security functions
        async function loadSecurityData() {
            // Load security events
            await refreshSecurityEvents();
            
            // Update security score
            updateSecurityScore();
            
            // Update rate limits
            updateRateLimits();
        }

        async function refreshSecurityEvents() {
            if (!adminSecurity) return;
            
            const events = adminSecurity.getSuspiciousActivities(10);
            const tbody = document.getElementById('security-events');
            
            if (events.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="5" class="text-center text-muted py-4">
                            <i data-feather="shield-off" width="24" height="24" class="mb-2"></i>
                            <p>No security events recorded</p>
                        </td>
                    </tr>`;
                feather.replace();
                return;
            }
            
            tbody.innerHTML = events.map(event => `
                <tr>
                    <td>${new Date(event.timestamp).toLocaleString()}</td>
                    <td>${event.action}</td>
                    <td>${event.ip || 'N/A'}</td>
                    <td><span class="badge bg-${getSeverityBadgeClass(event.severity)}">${event.severity}</span></td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary" onclick="viewSecurityEvent('${event.id}')">
                            <i data-feather="eye" width="14" height="14"></i> Details
                        </button>
                    </td>
                </tr>
            `).join('');
            
            // Update threat count
            document.getElementById('threat-count').textContent = events.filter(e => e.severity === 'high').length;
            
            feather.replace();
        }

        function getSeverityBadgeClass(severity) {
            switch (severity.toLowerCase()) {
                case 'high': return 'danger';
                case 'medium': return 'warning';
                case 'low': return 'info';
                default: return 'secondary';
            }
        }

        async function runSecurityAudit() {
            if (!adminSecurity) return;
            
            try {
                const result = await adminSecurity.runSecurityAudit();
                showMessage('success', 'Security audit completed successfully');
                updateSecurityScore(result.score);
                
                // Show audit results
                document.getElementById('last-audit').textContent = new Date().toLocaleString();
                
                // Update UI with audit results
                console.log('Security audit results:', result);
                
            } catch (error) {
                console.error('Security audit failed:', error);
                showMessage('error', 'Failed to run security audit: ' + error.message);
            }
        }

        function updateSecurityScore(score = 0) {
            const scoreElement = document.getElementById('security-score');
            const circle = scoreElement.querySelector('.score-circle');
            const valueElement = circle.querySelector('span');
            
            // Animate score update
            let currentScore = parseInt(valueElement.textContent) || 0;
            const targetScore = score;
            const duration = 1000; // 1 second
            const step = (targetScore - currentScore) / (duration / 16); // 60fps
            
            const updateScore = () => {
                currentScore += step;
                
                if ((step > 0 && currentScore >= targetScore) || 
                    (step < 0 && currentScore <= targetScore)) {
                    currentScore = targetScore;
                } else {
                    requestAnimationFrame(updateScore);
                }
                
                const roundedScore = Math.round(currentScore);
                valueElement.textContent = roundedScore;
                
                // Update circle color based on score
                circle.style.background = `conic-gradient(
                    ${getScoreColor(roundedScore)} ${(roundedScore / 100) * 360}deg, 
                    #e9ecef 0deg
                )`;
            };
            
            updateScore();
        }

        function getScoreColor(score) {
            if (score >= 80) return '#28a745'; // Green
            if (score >= 50) return '#ffc107'; // Yellow
            return '#dc3545'; // Red
        }

        function updateRateLimits() {
            if (!adminSecurity) return;
            
            // Get current rate limits from the security module
            const apiLimits = adminSecurity.getRateLimitStatus('api');
            const loginLimits = adminSecurity.getRateLimitStatus('login');
            
            // Update API rate limit UI
            const apiUsed = apiLimits ? apiLimits.used : 0;
            const apiMax = apiLimits ? apiLimits.limit : 100;
            const apiUsage = document.getElementById('api-usage');
            const apiProgress = document.querySelector('.progress-bar');
            
            apiUsage.textContent = `${apiUsed}/${apiMax} per 15m`;
            const apiPercentage = Math.min(100, (apiUsed / apiMax) * 100);
            apiProgress.style.width = `${apiPercentage}%`;
            apiProgress.classList.toggle('bg-danger', apiPercentage > 90);
            apiProgress.classList.toggle('bg-warning', apiPercentage > 70 && apiPercentage <= 90);
            
            // Update login rate limit UI
            const loginUsed = loginLimits ? loginLimits.used : 0;
            const loginMax = loginLimits ? loginLimits.limit : 5;
            const loginUsage = document.getElementById('login-usage');
            const loginProgress = document.querySelector('.progress-bar.bg-warning');
            
            loginUsage.textContent = `${loginUsed}/${loginMax} per hour`;
            const loginPercentage = Math.min(100, (loginUsed / loginMax) * 100);
            loginProgress.style.width = `${loginPercentage}%`;
            loginProgress.classList.toggle('bg-danger', loginPercentage > 80);
            loginProgress.classList.toggle('bg-warning', loginPercentage <= 80);
        }

        async function createBackup() {
            if (!adminSecurity) return;
            
            try {
                const options = {
                    includeUsers: document.getElementById('backup-users').checked,
                    includeJobs: document.getElementById('backup-jobs').checked,
                    includeApplications: document.getElementById('backup-applications').checked
                };
                
                showLoading('Creating backup...');
                const backup = await adminSecurity.createBackup(options);
                
                // Download backup file
                const blob = new Blob([JSON.stringify(backup, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `jobstir-backup-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                showMessage('success', 'Backup created and downloaded successfully');
                
            } catch (error) {
                console.error('Backup failed:', error);
                showMessage('error', 'Failed to create backup: ' + error.message);
            } finally {
                hideLoading();
            }
        }

        async function restoreBackup() {
            const fileInput = document.getElementById('backup-file');
            if (!fileInput.files.length) {
                showMessage('warning', 'Please select a backup file');
                return;
            }
            
            const file = fileInput.files[0];
            const reader = new FileReader();
            
            reader.onload = async (e) => {
                try {
                    const backupData = JSON.parse(e.target.result);
                    
                    if (!confirm('WARNING: This will overwrite existing data. Are you sure you want to continue?')) {
                        return;
                    }
                    
                    showLoading('Restoring backup...');
                    await adminSecurity.restoreBackup(backupData);
                    showMessage('success', 'Backup restored successfully');
                    
                    // Refresh the page to show updated data
                    setTimeout(() => window.location.reload(), 1500);
                    
                } catch (error) {
                    console.error('Restore failed:', error);
                    showMessage('error', 'Failed to restore backup: ' + error.message);
                } finally {
                    hideLoading();
                }
            };
            
            reader.onerror = () => {
                showMessage('error', 'Error reading backup file');
            };
            
            reader.readAsText(file);
        }

        function viewSecurityEvent(eventId) {
            if (!adminSecurity) return;
            
            const event = adminSecurity.getSuspiciousActivities().find(e => e.id === eventId);
            if (!event) {
                showMessage('warning', 'Event not found');
                return;
            }
            
            // Show event details in a modal
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.innerHTML = `
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Security Event Details</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <h6>Event ID</h6>
                                    <p>${event.id}</p>
                                </div>
                                <div class="col-md-6">
                                    <h6>Timestamp</h6>
                                    <p>${new Date(event.timestamp).toLocaleString()}</p>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <h6>Severity</h6>
                                    <span class="badge bg-${getSeverityBadgeClass(event.severity)}">${event.severity}</span>
                                </div>
                                <div class="col-md-6">
                                    <h6>IP Address</h6>
                                    <p>${event.ip || 'N/A'}</p>
                                </div>
                            </div>
                            <div class="mb-3">
                                <h6>Action</h6>
                                <p>${event.action}</p>
                            </div>
                            <div class="mb-3">
                                <h6>Details</h6>
                                <pre class="bg-light p-3 rounded">${JSON.stringify(event.details || {}, null, 2)}</pre>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-danger" onclick="markAsFalsePositive('${event.id}')">
                                Mark as False Positive
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            const modalInstance = new bootstrap.Modal(modal);
            modalInstance.show();
            
            // Remove the modal from DOM when hidden
            modal.addEventListener('hidden.bs.modal', () => {
                document.body.removeChild(modal);
            });
        }
        
        function markAsFalsePositive(eventId) {
            if (!adminSecurity) return;
            
            if (confirm('Are you sure you want to mark this event as a false positive?')) {
                adminSecurity.markAsFalsePositive(eventId);
                refreshSecurityEvents();
                bootstrap.Modal.getInstance(document.querySelector('.modal.show')).hide();
                showMessage('success', 'Event marked as false positive');
            }
        }
        
        function showMessage(type, message) {
            // Use Bootstrap's toast for notifications
            const toastContainer = document.getElementById('toast-container') || createToastContainer();
            const toastId = 'toast-' + Date.now();
            
            const toast = document.createElement('div');
            toast.id = toastId;
            toast.className = 'toast align-items-center text-white bg-' + 
                (type === 'error' ? 'danger' : type === 'warning' ? 'warning' : 'success') + 
                ' border-0';
            toast.setAttribute('role', 'alert');
            toast.setAttribute('aria-live', 'assertive');
            toast.setAttribute('aria-atomic', 'true');
            
            toast.innerHTML = `
                <div class="d-flex">
                    <div class="toast-body">
                        <i data-feather="${type === 'error' ? 'alert-circle' : type === 'warning' ? 'alert-triangle' : 'check-circle'}" class="me-2"></i>
                        ${message}
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>
            `;
            
            toastContainer.appendChild(toast);
            const bsToast = new bootstrap.Toast(toast, { autohide: true, delay: 5000 });
            bsToast.show();
            
            // Remove toast after it's hidden
            toast.addEventListener('hidden.bs.toast', () => {
                toast.remove();
            });
            
            feather.replace();
        }
        
        function createToastContainer() {
            const container = document.createElement('div');
            container.id = 'toast-container';
            container.style.position = 'fixed';
            container.style.top = '20px';
            container.style.right = '20px';
            container.style.zIndex = '1100';
            container.style.width = '300px';
            document.body.appendChild(container);
            return container;
        }
        
        function showLoading(message) {
            // Create or update loading overlay
            let overlay = document.getElementById('loading-overlay');
            if (!overlay) {
                overlay = document.createElement('div');
                overlay.id = 'loading-overlay';
                overlay.style.position = 'fixed';
                overlay.style.top = '0';
                overlay.style.left = '0';
                overlay.style.width = '100%';
                overlay.style.height = '100%';
                overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
                overlay.style.display = 'flex';
                overlay.style.justifyContent = 'center';
                overlay.style.alignItems = 'center';
                overlay.style.zIndex = '2000';
                
                const spinner = document.createElement('div');
                spinner.className = 'spinner-border text-light me-3';
                spinner.role = 'status';
                
                const text = document.createElement('span');
                text.id = 'loading-text';
                text.className = 'text-white';
                text.textContent = message;
                
                overlay.appendChild(spinner);
                overlay.appendChild(text);
                document.body.appendChild(overlay);
            } else {
                document.getElementById('loading-text').textContent = message;
                overlay.style.display = 'flex';
            }
        }
        
        function hideLoading() {
            const overlay = document.getElementById('loading-overlay');
            if (overlay) {
                overlay.style.display = 'none';
            }
        }
        
        // Periodically update rate limits and threat detection
        setInterval(() => {
            if (document.getElementById('security-tab').classList.contains('active')) {
                updateRateLimits();
                refreshSecurityEvents();
            }
        }, 30000); // Update every 30 seconds
    </script>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        
        // Enhanced star interactions for admin panel
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('star')) {
                // Create admin-themed sparkle effect
                for (let i = 0; i < 6; i++) {
                    const sparkle = document.createElement('div');
                    sparkle.innerHTML = ['', '', '', ''][Math.floor(Math.random() * 4)];
                    sparkle.style.cssText = `
                        position: fixed;
                        left: ${e.clientX + Math.random() * 30 - 15}px;
                        top: ${e.clientY + Math.random() * 30 - 15}px;
                        font-size: 0.9rem;
                        pointer-events: none;
                        animation: sparkleExplode 1s ease-out forwards;
                        z-index: 9999;
                    `;
                    document.body.appendChild(sparkle);
                    setTimeout(() => sparkle.remove(), 1000);
                }
            }
        });
        
        // Add admin-specific enhancements
        const adminEnhancements = () => {
            // Add subtle glow to notification badge
            const badge = document.getElementById('notification-count');
            if (badge) {
                setInterval(() => {
                    badge.style.animation = 'pulse 1s ease-in-out';
                    setTimeout(() => badge.style.animation = 'pulse 2s infinite', 1000);
                }, 5000);
            }
            
            // Add hover effects to stat cards
            document.querySelectorAll('.stat-card').forEach(card => {
                card.addEventListener('mouseenter', () => {
                    const stars = card.querySelector('.star-rating');
                    if (stars) {
                        stars.style.transform = 'scale(1.1)';
                    }
                });
                card.addEventListener('mouseleave', () => {
                    const stars = card.querySelector('.star-rating');
                    if (stars) {
                        stars.style.transform = 'scale(1)';
                    }
                });
            });
        };
        
        // Initialize admin enhancements after DOM is loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', adminEnhancements);
        } else {
            adminEnhancements();
        }
        
        // Add sparkle animation CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes sparkleExplode {
                0% {
                    transform: scale(1) translate(0, 0);
                    opacity: 1;
                }
                100% {
                    transform: scale(0.3) translate(${Math.random() * 80 - 40}px, ${Math.random() * 80 - 40}px);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
